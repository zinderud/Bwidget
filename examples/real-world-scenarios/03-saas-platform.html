<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloudAnalytics - AI-Powered Data Insights</title>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            color: white;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.6rem;
            font-weight: 700;
            color: white;
        }
        
        .logo-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0f2027;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .nav-links a {
            text-decoration: none;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #00c9ff;
        }
        
        .hero {
            text-align: center;
            padding: 100px 0;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: 700;
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 40px;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }
        
        .badge {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 8px 20px;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 80px 0;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: #00c9ff;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #00c9ff;
        }
        
        .feature-card p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
        }
        
        .api-demo {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 40px;
            margin: 60px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .api-demo h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #00c9ff;
        }
        
        .code-block {
            background: #1a1a1a;
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            border: 1px solid #333;
        }
        
        .code-block pre {
            margin: 0;
            color: #e0e0e0;
        }
        
        .api-response {
            background: rgba(0, 201, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(0, 201, 255, 0.3);
        }
        
        .pricing-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 80px 0;
            margin: 80px 0;
            border-radius: 24px;
            color: #2d3748;
        }
        
        .pricing-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .pricing-header h2 {
            font-size: 2.8rem;
            color: #2d3748;
            margin-bottom: 16px;
        }
        
        .pricing-subtitle {
            font-size: 1.2rem;
            color: #718096;
            margin-bottom: 20px;
        }
        
        .api-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .api-benefit {
            text-align: center;
            padding: 20px;
            background: rgba(0, 201, 255, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(0, 201, 255, 0.2);
        }
        
        .benefit-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: #00c9ff;
            margin-bottom: 5px;
        }
        
        .benefit-label {
            color: #4a5568;
            font-size: 0.9rem;
        }
        
        .blicence-widget-container {
            margin: 40px auto;
            max-width: 900px;
        }
        
        .use-cases {
            padding: 80px 0;
            text-align: center;
        }
        
        .use-cases h2 {
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: #00c9ff;
        }
        
        .use-cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .use-case {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: left;
        }
        
        .use-case h3 {
            color: #92fe9d;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .use-case p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .use-case-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .tag {
            background: rgba(146, 254, 157, 0.2);
            color: #92fe9d;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
        }
        
        .footer {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            padding: 60px 0;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
            text-align: left;
        }
        
        .footer-section h4 {
            color: #00c9ff;
            margin-bottom: 20px;
        }
        
        .footer-section a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: #00c9ff;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <div class="logo-icon">📊</div>
                    CloudAnalytics
                </div>
                <ul class="nav-links">
                    <li><a href="#features">Özellikler</a></li>
                    <li><a href="#api">API</a></li>
                    <li><a href="#pricing">Fiyatlar</a></li>
                    <li><a href="#docs">Dokümantasyon</a></li>
                    <li><a href="#contact">İletişim</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>AI-Powered Data Insights</h1>
            <p class="hero-subtitle">
                Verilerinizi anlamlandırın, AI destekli analizlerle işinizi büyütün. 
                50+ makine öğrenmesi algoritması ile real-time insights.
            </p>
            
            <div class="hero-badges">
                <div class="badge">🚀 99.9% Uptime SLA</div>
                <div class="badge">⚡ Sub-second Response</div>
                <div class="badge">🔒 Enterprise Security</div>
                <div class="badge">🌍 Global CDN</div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features" id="features">
        <div class="container">
            <div class="feature-card">
                <div class="feature-icon">🤖</div>
                <h3>AI/ML Algorithms</h3>
                <p>50+ önceden eğitilmiş makine öğrenmesi modeli ile verilerinizi analiz edin</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📊</div>
                <h3>Real-time Analytics</h3>
                <p>Verilerinizi gerçek zamanlı olarak işleyin ve anında insights elde edin</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🔧</div>
                <h3>RESTful API</h3>
                <p>Modern REST API ile kolay entegrasyon ve hızlı geliştirme</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📈</div>
                <h3>Custom Dashboards</h3>
                <p>İşinize özel dashboard'lar oluşturun ve verilerinizi görselleştirin</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🔗</div>
                <h3>Integration Hub</h3>
                <p>Slack, Discord, Teams ve 100+ uygulama ile entegrasyon</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🛡️</div>
                <h3>Enterprise Security</h3>
                <p>SOC2, GDPR uyumlu güvenlik standartları</p>
            </div>
        </div>
    </section>

    <!-- API Demo -->
    <section class="api-demo" id="api">
        <div class="container">
            <h2>API ile Başlayın</h2>
            
            <div class="code-block">
                <pre><code>// E-commerce analizi örneği
curl -X POST https://api.cloudanalytics.io/v1/analyze \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "data_type": "ecommerce",
    "metrics": ["conversion_rate", "customer_lifetime_value", "churn_prediction"],
    "data": {
      "transactions": [...],
      "user_behavior": [...],
      "product_data": [...]
    }
  }'</code></pre>
            </div>
            
            <div class="api-response">
                <strong>Response:</strong>
                <pre><code>{
  "analysis_id": "ana_1234567890",
  "insights": {
    "conversion_rate": {
      "current": 2.8,
      "predicted_7d": 3.2,
      "improvement_suggestions": [...]
    },
    "customer_segments": [...],
    "churn_risk": {...}
  },
  "processing_time_ms": 234
}</code></pre>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="container">
            <div class="pricing-header">
                <h2>API Fiyatlandırması</h2>
                <p class="pricing-subtitle">Kullandığınız kadar ödeyin, blockchain güvencesi ile</p>
                
                <div class="api-benefits">
                    <div class="api-benefit">
                        <div class="benefit-number">10K+</div>
                        <div class="benefit-label">ML Models</div>
                    </div>
                    <div class="api-benefit">
                        <div class="benefit-number">99.9%</div>
                        <div class="benefit-label">Uptime SLA</div>
                    </div>
                    <div class="api-benefit">
                        <div class="benefit-number">< 200ms</div>
                        <div class="benefit-label">Response Time</div>
                    </div>
                    <div class="api-benefit">
                        <div class="benefit-number">24/7</div>
                        <div class="benefit-label">Support</div>
                    </div>
                </div>
            </div>
            
            <!-- Blicence Widget Integration -->
            <div class="blicence-widget-container">
                <div 
                    data-producer="0x456d35Cc6634C0532925a3b8D563d7EFF3C74bC9"
                    data-layout="grid"
                    data-theme="light"
                    data-primary-color="#00c9ff"
                    data-show-description="true"
                    data-show-features="true"
                    data-title="CloudAnalytics API Plans"
                    data-producer-name="CloudAnalytics"
                    data-network="polygon"
                ></div>
            </div>
        </div>
    </section>

    <!-- Use Cases -->
    <section class="use-cases">
        <div class="container">
            <h2>Kullanım Alanları</h2>
            <div class="use-cases-grid">
                <div class="use-case">
                    <h3>🛒 E-commerce Analytics</h3>
                    <p>Müşteri davranışlarını analiz edin, conversion oranlarını artırın ve personalized recommendations sağlayın.</p>
                    <div class="use-case-tags">
                        <span class="tag">Conversion</span>
                        <span class="tag">Recommendation</span>
                        <span class="tag">Segmentation</span>
                    </div>
                </div>
                <div class="use-case">
                    <h3>📱 Social Media Monitoring</h3>
                    <p>Marka reputation'ınızı takip edin, sentiment analysis ile customer feedback'i analiz edin.</p>
                    <div class="use-case-tags">
                        <span class="tag">Sentiment</span>
                        <span class="tag">Monitoring</span>
                        <span class="tag">Trends</span>
                    </div>
                </div>
                <div class="use-case">
                    <h3>💰 Fintech Risk Analysis</h3>
                    <p>Fraud detection, credit scoring ve risk assessment için AI modelleri kullanın.</p>
                    <div class="use-case-tags">
                        <span class="tag">Fraud Detection</span>
                        <span class="tag">Credit Scoring</span>
                        <span class="tag">Risk Analysis</span>
                    </div>
                </div>
                <div class="use-case">
                    <h3>🏭 IoT Data Processing</h3>
                    <p>Sensor verilerini real-time işleyin, predictive maintenance ve anomaly detection yapın.</p>
                    <div class="use-case-tags">
                        <span class="tag">IoT</span>
                        <span class="tag">Predictive</span>
                        <span class="tag">Anomaly</span>
                    </div>
                </div>
                <div class="use-case">
                    <h3>📊 Business Intelligence</h3>
                    <p>KPI tracking, forecasting ve strategic insights için comprehensive analytics.</p>
                    <div class="use-case-tags">
                        <span class="tag">KPI</span>
                        <span class="tag">Forecasting</span>
                        <span class="tag">BI</span>
                    </div>
                </div>
                <div class="use-case">
                    <h3>🎯 Marketing Optimization</h3>
                    <p>Campaign performance, customer acquisition cost ve ROAS optimizasyonu.</p>
                    <div class="use-case-tags">
                        <span class="tag">Campaign</span>
                        <span class="tag">CAC</span>
                        <span class="tag">ROAS</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Product</h4>
                    <a href="#">API Documentation</a>
                    <a href="#">SDKs & Libraries</a>
                    <a href="#">Use Cases</a>
                    <a href="#">Pricing</a>
                </div>
                <div class="footer-section">
                    <h4>Developers</h4>
                    <a href="#">Getting Started</a>
                    <a href="#">API Reference</a>
                    <a href="#">Code Examples</a>
                    <a href="#">Status Page</a>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <a href="#">About Us</a>
                    <a href="#">Blog</a>
                    <a href="#">Careers</a>
                    <a href="#">Contact</a>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <a href="#">Help Center</a>
                    <a href="#">Community</a>
                    <a href="#">Discord</a>
                    <a href="#">Enterprise</a>
                </div>
            </div>
            <p>&copy; 2025 CloudAnalytics. All rights reserved. | Powered by Blicence</p>
        </div>
    </footer>

    <!-- Blicence Widget Script -->
    <script src="https://cdn.blicence.com/bundles/blicence-sales-widget.min.js"></script>
    
    <script>
        // Widget yüklendiğinde özel event listeners
        window.addEventListener('blicence:loaded', function(event) {
            console.log('☁️ CloudAnalytics widget yüklendi:', event.detail);
            
            // Google Analytics integration
            if (window.gtag) {
                gtag('event', 'widget_loaded', {
                    'custom_parameter': 'cloudanalytics_saas'
                });
            }
        });

        // Plan seçimi event listener
        document.addEventListener('blicence:planSelected', function(event) {
            const plan = event.detail;
            console.log('� Plan seçildi:', plan.name);
            
            // Conversion tracking
            if (window.gtag) {
                gtag('event', 'plan_selected', {
                    'plan_id': plan.id,
                    'plan_name': plan.name,
                    'plan_price': plan.price
                });
            }
        });

        // Widget wallet bağlantısı başladı
        document.addEventListener('blicence:walletConnecting', function(event) {
            console.log('🔗 Wallet bağlantısı başlıyor...');
            document.body.style.cursor = 'wait';
            
            // Optional: Show connecting state in UI
            showConnectingState();
        });

        // Widget wallet bağlandı
        document.addEventListener('blicence:walletConnected', function(event) {
            const { address, network } = event.detail;
            console.log('✅ Wallet bağlandı:', address, 'Network:', network);
            document.body.style.cursor = 'default';
            
            // Optional: Show connected state
            showConnectedState(address);
        });

        // Satın alma işlemi başladı (widget tarafından yönetiliyor)
        document.addEventListener('blicence:purchaseStart', function(event) {
            const plan = event.detail;
            console.log('💳 Satın alma başladı:', plan.name);
            
            // Show loading state
            showPurchaseLoading('Blockchain işlemi gerçekleştiriliyor...');
        });

        // Satın alma tamamlandı
        document.addEventListener('blicence:purchaseComplete', function(event) {
            const { plan, txHash, nftTokenId } = event.detail;
            console.log('✅ Satın alma tamamlandı!', plan.name, txHash);
            
            hidePurchaseLoading();
            
            // Show success modal with NFT details
            showSuccessModal({
                plan: plan,
                txHash: txHash,
                nftTokenId: nftTokenId
            });
            
            // Analytics tracking
            if (window.gtag) {
                gtag('event', 'purchase', {
                    transaction_id: txHash,
                    value: parseFloat(plan.price),
                    currency: 'USD',
                    items: [{
                        item_id: plan.id,
                        item_name: plan.name,
                        category: 'saas',
                        quantity: 1,
                        price: parseFloat(plan.price)
                    }]
                });
            }

            // Generate API key after successful payment
            setTimeout(() => {
                generateAPIKey(plan, txHash, nftTokenId);
            }, 2000);
        });

        // Hata durumu
        document.addEventListener('blicence:error', function(event) {
            const error = event.detail;
            console.error('❌ Widget hatası:', error);
            
            document.body.style.cursor = 'default';
            hidePurchaseLoading();
            showError('Bir hata oluştu: ' + error.message);
        });

        // UI Helper Functions
        function showConnectingState() {
            // Optional: Show wallet connecting indicator
            console.log('💫 Wallet bağlantısı göstergesi');
        }

        function showConnectedState(address) {
            // Optional: Show connected wallet address
            console.log('🟢 Bağlı wallet:', address.substring(0, 6) + '...');
        }

        function showPurchaseLoading(message) {
            const modal = document.createElement('div');
            modal.id = 'purchaseLoadingModal';
            modal.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15,32,39,0.95); z-index: 10000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: linear-gradient(135deg, #0f2027, #203a43); border-radius: 16px; padding: 30px; text-align: center; max-width: 400px; margin: 20px; border: 1px solid rgba(0,201,255,0.3);">
                        <div style="font-size: 3rem; margin-bottom: 20px;">⏳</div>
                        <h3 style="color: #00c9ff; margin-bottom: 15px;">İşlem Gerçekleştiriliyor</h3>
                        <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">${message}</p>
                        <div style="width: 100%; height: 4px; background: rgba(0,201,255,0.2); border-radius: 2px; overflow: hidden;">
                            <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #00c9ff, #92fe9d); animation: pulse 2s ease-in-out infinite;"></div>
                        </div>
                    </div>
                </div>
                <style>
                    @keyframes pulse {
                        0%, 100% { opacity: 1; }
                        50% { opacity: 0.5; }
                    }
                </style>
            `;
            document.body.appendChild(modal);
        }

        function hidePurchaseLoading() {
            const modal = document.getElementById('purchaseLoadingModal');
            if (modal && modal.parentNode) {
                modal.parentNode.removeChild(modal);
            }
        }

        function showSuccessModal(details) {
            const modal = document.createElement('div');
            modal.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: linear-gradient(135deg, #0f2027, #203a43); border-radius: 16px; padding: 30px; text-align: center; max-width: 500px; margin: 20px; color: white; border: 1px solid rgba(146,254,157,0.3);">
                        <div style="font-size: 4rem; margin-bottom: 20px;">🎉</div>
                        <h2 style="color: #92fe9d; margin-bottom: 15px;">CloudAnalytics'e Hoş Geldiniz!</h2>
                        <p style="margin-bottom: 20px; color: rgba(255,255,255,0.8);">${details.plan.name} planını başarıyla satın aldınız!</p>
                        
                        <div style="background: rgba(0,201,255,0.1); border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                            <h4 style="margin-bottom: 10px; color: #00c9ff;">🎫 NFT API Access Token</h4>
                            <p style="font-family: monospace; font-size: 0.8rem; color: rgba(255,255,255,0.6);">Token ID: #${details.nftTokenId || 'AUTO_GENERATED'}</p>
                            <p style="font-family: monospace; font-size: 0.8rem; color: rgba(255,255,255,0.6);">TX: ${details.txHash ? details.txHash.substring(0, 20) + '...' : 'PROCESSING...'}</p>
                        </div>
                        
                        <div style="background: rgba(146,254,157,0.1); border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                            <h4 style="margin-bottom: 10px; color: #92fe9d;">🔑 API Erişimi</h4>
                            <p style="color: rgba(146,254,157,0.8);">☁️ Unlimited Cloud Analytics</p>
                            <p style="color: rgba(146,254,157,0.8);">⚡ High-Performance API</p>
                            <p style="color: rgba(146,254,157,0.8);">📊 Real-time Data Streaming</p>
                            <p style="color: rgba(146,254,157,0.8);">🛡️ Enterprise Security</p>
                        </div>
                        
                        <div style="background: rgba(0,201,255,0.1); border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                            <h4 style="margin-bottom: 10px; color: #00c9ff;">🔐 API Key Oluşturuluyor</h4>
                            <p style="color: rgba(0,201,255,0.8);">NFT'nizle API anahtarınız otomatik olarak oluşturulacak</p>
                        </div>
                        
                        <button onclick="generateAPIKey('${details.plan.id}', '${details.txHash}', '${details.nftTokenId}'); this.closest('div').parentNode.remove();" 
                                style="background: #00c9ff; color: #0f2027; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; margin-right: 10px;">
                            🚀 API Dashboard'a Git
                        </button>
                        <button onclick="this.closest('div').parentNode.remove();" 
                                style="background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.8); border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            Kapat
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showError(message) {
            const modal = document.createElement('div');
            modal.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: linear-gradient(135deg, #0f2027, #203a43); border-radius: 16px; padding: 30px; text-align: center; max-width: 400px; margin: 20px; color: white; border: 1px solid rgba(255,107,107,0.3);">
                        <div style="font-size: 3rem; margin-bottom: 20px;">❌</div>
                        <h3 style="color: #ff6b6b; margin-bottom: 15px;">İşlem Başarısız</h3>
                        <p style="margin-bottom: 20px; word-wrap: break-word; color: rgba(255,255,255,0.8);">${message}</p>
                        <button onclick="this.closest('div').parentNode.remove();" 
                                style="background: #ff6b6b; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            Tamam
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function generateAPIKey(planId, txHash, nftTokenId) {
            // Simulate API key generation based on NFT
            const apiKey = 'ca_' + (nftTokenId || 'demo') + '_' + Math.random().toString(36).substr(2, 16);
            
            // Redirect to developer dashboard with API key and NFT info
            window.location.href = `/dashboard/api?key=${apiKey}&plan=${planId}&tx=${txHash}&nft=${nftTokenId}`;
        }

        console.log('☁️ CloudAnalytics - Widget-managed blockchain integration ready!');
        console.log('💳 Wallet connection handled by widget');
        console.log('🎫 NFT-based API access system activated');
    </script>
                    </div>
                    <button onclick="this.closest('div').style.display='none'" 
                            style="background: #00c9ff; color: #0f2027; border: none; padding: 12px 24px; 
                                   border-radius: 8px; cursor: pointer; font-weight: 600;">
                        Anladım
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.onclick = (e) => e.target === modal && modal.remove();
        }

        function showAPILoadingState(message) {
            const overlay = document.createElement('div');
            overlay.id = 'api-loading';
            overlay.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(15,32,39,0.95); display: flex; align-items: center;
                justify-content: center; z-index: 10000; color: white; text-align: center;
            `;
            
            overlay.innerHTML = `
                <div>
                    <div style="width: 60px; height: 60px; border: 4px solid #00c9ff; border-top: 4px solid transparent; 
                                border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 30px;"></div>
                    <div style="font-size: 1.3rem; color: #00c9ff; margin-bottom: 10px;">${message}</div>
                    <div style="font-size: 1rem; color: rgba(255,255,255,0.7);">Blockchain transaction processing...</div>
                </div>
                <style>
                    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
                </style>
            `;
            
            document.body.appendChild(overlay);
        }

        function hideAPILoadingState() {
            const overlay = document.getElementById('api-loading');
            if (overlay) overlay.remove();
        }

        function showAPISuccessModal(plan, txHash) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.9); display: flex; align-items: center;
                justify-content: center; z-index: 10000;
            `;
            
            modal.innerHTML = `
                <div style="background: linear-gradient(135deg, #0f2027, #203a43); padding: 50px; border-radius: 20px; 
                            max-width: 600px; text-align: center; border: 1px solid rgba(146,254,157,0.3);">
                    <div style="font-size: 4rem; margin-bottom: 20px;">🎉</div>
                    <h2 style="color: #92fe9d; margin-bottom: 15px;">API Access Activated!</h2>
                    <p style="color: rgba(255,255,255,0.8); margin-bottom: 25px;">
                        <strong>${plan.name}</strong> successfully activated. Your API access is ready!
                    </p>
                    <div style="background: rgba(0,201,255,0.1); padding: 20px; border-radius: 12px; margin-bottom: 25px;">
                        <div style="color: #00c9ff; font-weight: 600; margin-bottom: 10px;">Transaction Details</div>
                        <div style="font-family: monospace; font-size: 0.9rem; color: rgba(255,255,255,0.7); word-break: break-all;">
                            ${txHash}
                        </div>
                    </div>
                    <div style="color: rgba(255,255,255,0.6); font-size: 0.9rem; margin-bottom: 20px;">
                        🔑 Generating your API key...
                    </div>
                    <div style="color: rgba(146,254,157,0.8); font-size: 0.9rem;">
                        You'll be redirected to the developer dashboard
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function showAPIErrorModal(message) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.9); display: flex; align-items: center;
                justify-content: center; z-index: 10000;
            `;
            
            modal.innerHTML = `
                <div style="background: linear-gradient(135deg, #0f2027, #203a43); padding: 40px; border-radius: 20px; 
                            max-width: 500px; text-align: center; border: 1px solid rgba(255,107,107,0.3);">
                    <div style="font-size: 3rem; margin-bottom: 20px;">⚠️</div>
                    <h3 style="color: #ff6b6b; margin-bottom: 15px;">API Subscription Error</h3>
                    <p style="color: rgba(255,255,255,0.8); margin-bottom: 25px;">${message}</p>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button onclick="this.closest('div').remove()" 
                                style="background: #4a5568; color: white; border: none; padding: 10px 20px; 
                                       border-radius: 8px; cursor: pointer;">
                            Close
                        </button>
                        <button onclick="location.reload()" 
                                style="background: #00c9ff; color: #0f2027; border: none; padding: 10px 20px; 
                                       border-radius: 8px; cursor: pointer; font-weight: 600;">
                            Try Again
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function generateAPIKey(plan, txHash) {
            // Simulate API key generation
            const apiKey = 'ca_' + Math.random().toString(36).substr(2, 32);
            
            // Redirect to developer dashboard with API key
            window.location.href = `/dashboard/api?key=${apiKey}&plan=${plan.id}&tx=${txHash}`;
        }

        function trackEvent(eventName, params) {
            // Analytics tracking
            if (window.gtag) {
                gtag('event', eventName, params);
            }
            
            // Custom tracking
            console.log('📊 Event tracked:', eventName, params);
        }
    </script>
</body>
</html>
